<div class="search-page-container">
  <header class="search-header">
    <nav class="search-nav">
      <div class="dropdown-container">
        <button class="nav-button" (click)="toggleInterestMenu($event)">
          <span>Mentores</span>
          <svg class="chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
        <div class="dropdown-panel" *ngIf="isInterestMenuOpen">
            <div class="panel-header">
              <h4>Filtrar por área de interesse</h4>
              <button class="clear-filters-btn" *ngIf="selectedInterestAreas.length > 0" (click)="clearInterestAreas()">Limpar</button>
            </div>
            <div class="filter-tags-container">
              <button *ngFor="let area of interestAreas" class="filter-tag" [class.active]="isAreaSelected(area.value)" (click)="toggleAreaSelection(area.value)">
                {{ area.label }}
              </button>
            </div>
        </div>
      </div>

      <div class="search-input-container">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
        </svg>
        <input type="text" class="spec-search-input" placeholder="Buscar por especializações (separar por vírgula)" [(ngModel)]="specializationsInput" (ngModelChange)="onSearchDebounced()">
      </div>
    </nav>
  </header>

  <main class="results-container" *ngIf="mentorSearchPerformed">
      <div *ngIf="mentors.length === 0" class="no-results">
        <p>Nenhum mentor encontrado com os critérios especificados.</p>
      </div>
      <div *ngIf="mentors.length > 0" class="results-grid">
        <div *ngFor="let mentor of mentors" class="profile-card">
          <div class="card-header">
            <div class="card-avatar">{{ getInitials(mentor.fullName) }}</div>
            <div class="card-title">
              <h4>{{ mentor.fullName }}</h4>
              <p>{{ getCourseName(mentor.course) }}</p>
            </div>
          </div>
          <div class="card-body">
            <p class="summary">{{ mentor.professionalSummary | slice:0:150 }}{{ mentor.professionalSummary.length > 150 ? '...' : '' }}</p>
            <h5>Especializações</h5>
            <div class="tags-container">
              <span *ngFor="let spec of mentor.specializations" class="tag">{{ spec }}</span>
              <span *ngIf="!mentor.specializations || mentor.specializations.length === 0" class="tag-empty">Nenhuma especialização informada</span>
            </div>
          </div>
        </div>
      </div>
  </main>
</div>
